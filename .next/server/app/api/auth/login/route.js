"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/login/route";
exports.ids = ["app/api/auth/login/route"];
exports.modules = {

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.js&appDir=C%3A%5CUsers%5Canilp%5COneDrive%5CDesktop%5CAnkit%5Cprakash%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Canilp%5COneDrive%5CDesktop%5CAnkit%5Cprakash&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.js&appDir=C%3A%5CUsers%5Canilp%5COneDrive%5CDesktop%5CAnkit%5Cprakash%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Canilp%5COneDrive%5CDesktop%5CAnkit%5Cprakash&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_anilp_OneDrive_Desktop_Ankit_prakash_app_api_auth_login_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/auth/login/route.js */ \"(rsc)/./app/api/auth/login/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/login/route\",\n        pathname: \"/api/auth/login\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/login/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\anilp\\\\OneDrive\\\\Desktop\\\\Ankit\\\\prakash\\\\app\\\\api\\\\auth\\\\login\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_anilp_OneDrive_Desktop_Ankit_prakash_app_api_auth_login_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/auth/login/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGbG9naW4lMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkZsb2dpbiUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkZsb2dpbiUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNhbmlscCU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q0Fua2l0JTVDcHJha2FzaCU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDYW5pbHAlNUNPbmVEcml2ZSU1Q0Rlc2t0b3AlNUNBbmtpdCU1Q3ByYWthc2gmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ29DO0FBQ2pIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYW5nZWxicm9raW5nLWxpdmUtZGF0YS12ZXJjZWwvP2I0OTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcYW5pbHBcXFxcT25lRHJpdmVcXFxcRGVza3RvcFxcXFxBbmtpdFxcXFxwcmFrYXNoXFxcXGFwcFxcXFxhcGlcXFxcYXV0aFxcXFxsb2dpblxcXFxyb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYXV0aC9sb2dpbi9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2F1dGgvbG9naW5cIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2F1dGgvbG9naW4vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxhbmlscFxcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXEFua2l0XFxcXHByYWthc2hcXFxcYXBwXFxcXGFwaVxcXFxhdXRoXFxcXGxvZ2luXFxcXHJvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9hdXRoL2xvZ2luL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.js&appDir=C%3A%5CUsers%5Canilp%5COneDrive%5CDesktop%5CAnkit%5Cprakash%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Canilp%5COneDrive%5CDesktop%5CAnkit%5Cprakash&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/auth/login/route.js":
/*!*************************************!*\
  !*** ./app/api/auth/login/route.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var otplib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! otplib */ \"(rsc)/./node_modules/otplib/index.js\");\n/* harmony import */ var otplib__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(otplib__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../lib/mongodb */ \"(rsc)/./lib/mongodb.js\");\n\n\n\n\n// Helper function to get IP (simplified for serverless)\nconst getClientIP = (req)=>{\n    return req.headers.get(\"x-forwarded-for\") || req.headers.get(\"x-real-ip\") || \"127.0.0.1\";\n};\nasync function POST(req) {\n    try {\n        console.log(\"\\uD83D\\uDD10 Starting authentication process...\");\n        const { db } = await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_2__.connectToDatabase)();\n        console.log(\"✅ MongoDB connected\");\n        const API_KEY = \"a2syiZnn\";\n        const CLIENT_CODE = \"RSIKA1012\";\n        const MPIN = \"9993\" // Use MPIN instead of PASSWORD\n        ;\n        const TOTP_SECRET = \"AEY6BQA2HO3LJR4RPYOFWNIWK4\";\n        // Check if we should use mock authentication for testing\n        const USE_MOCK_AUTH = process.env.USE_MOCK_AUTH === \"true\";\n        if (USE_MOCK_AUTH) {\n            console.log(\"\\uD83C\\uDFAD Using mock authentication for testing...\");\n            // Create mock tokens\n            const mockTokens = {\n                jwtToken: \"mock_jwt_token_\" + Date.now(),\n                refreshToken: \"mock_refresh_token_\" + Date.now(),\n                feedToken: \"mock_feed_token_\" + Date.now(),\n                expiresAt: new Date(Date.now() + 24 * 60 * 60 * 1000)\n            };\n            // Save mock tokens to database\n            await db.collection(\"auth\").findOneAndUpdate({\n                clientCode: CLIENT_CODE\n            }, {\n                $set: {\n                    ...mockTokens,\n                    lastLogin: new Date(),\n                    isActive: true,\n                    isMock: true\n                }\n            }, {\n                upsert: true\n            });\n            console.log(\"\\uD83C\\uDFAD Mock authentication successful!\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                message: \"Mock authentication successful\",\n                expiresAt: mockTokens.expiresAt,\n                isMock: true\n            });\n        }\n        // Real authentication with Angel Broking\n        if (!API_KEY || !CLIENT_CODE || !MPIN || !TOTP_SECRET) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Missing required environment variables\"\n            }, {\n                status: 500\n            });\n        }\n        console.log(\"✅ All environment variables are present\");\n        console.log(\"\\uD83D\\uDCF1 CLIENT_CODE:\", CLIENT_CODE.substring(0, 4) + \"***\");\n        console.log(\"\\uD83D\\uDD11 API_KEY:\", API_KEY.substring(0, 8) + \"***\");\n        // Generate TOTP\n        const TOTP = otplib__WEBPACK_IMPORTED_MODULE_1__.authenticator.generate(TOTP_SECRET);\n        console.log(\"\\uD83D\\uDCDF TOTP Generated successfully:\", TOTP);\n        // Get client IP\n        const clientIP = getClientIP(req);\n        const publicIP = req.headers.get(\"x-real-ip\") || clientIP;\n        console.log(\"\\uD83C\\uDF10 Client IP:\", clientIP, \"Public IP:\", publicIP);\n        const loginData = {\n            clientcode: CLIENT_CODE,\n            password: MPIN,\n            totp: TOTP\n        };\n        const loginConfig = {\n            method: \"post\",\n            url: \"https://apiconnect.angelone.in/rest/auth/angelbroking/user/v1/loginByPassword\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Accept: \"application/json\",\n                \"X-UserType\": \"USER\",\n                \"X-SourceID\": \"WEB\",\n                \"X-ClientLocalIP\": clientIP,\n                \"X-ClientPublicIP\": publicIP,\n                \"X-MACAddress\": \"00:0a:95:9d:68:16\",\n                \"X-PrivateKey\": API_KEY\n            },\n            data: loginData,\n            timeout: 30000\n        };\n        console.log(\"\\uD83D\\uDCE1 Sending login request to Angel Broking...\");\n        console.log(\"\\uD83D\\uDD17 URL:\", loginConfig.url);\n        console.log(\"\\uD83D\\uDCCB Headers:\", {\n            ...loginConfig.headers,\n            \"X-PrivateKey\": \"***\"\n        });\n        console.log(\"\\uD83D\\uDCC4 Data:\", {\n            ...loginData,\n            password: \"***\",\n            totp: \"***\"\n        });\n        const loginResponse = await (0,axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(loginConfig);\n        console.log(\"✅ Login response received:\", loginResponse.status);\n        console.log(\"\\uD83D\\uDCCA Response data:\", loginResponse.data);\n        if (!loginResponse.data || loginResponse.data.status === false) {\n            console.error(\"❌ Angel Broking API error:\", loginResponse.data);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: `Angel Broking error: ${loginResponse.data?.message || \"Unknown error\"}`,\n                errorCode: loginResponse.data?.errorcode\n            }, {\n                status: 400\n            });\n        }\n        if (!loginResponse.data.data) {\n            console.error(\"❌ Invalid response structure:\", loginResponse.data);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Invalid response from Angel Broking API\"\n            }, {\n                status: 500\n            });\n        }\n        const responseData = loginResponse.data.data;\n        console.log(\"\\uD83D\\uDCCA Response data keys:\", Object.keys(responseData));\n        const tokens = {\n            jwtToken: responseData.jwtToken,\n            refreshToken: responseData.refreshToken,\n            feedToken: responseData.feedToken,\n            expiresAt: new Date(Date.now() + 24 * 60 * 60 * 1000)\n        };\n        if (!tokens.jwtToken || !tokens.feedToken) {\n            console.error(\"❌ Missing tokens in response\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Required tokens not received from Angel Broking\"\n            }, {\n                status: 500\n            });\n        }\n        console.log(\"\\uD83D\\uDCBE Saving tokens to database...\");\n        await db.collection(\"auth\").findOneAndUpdate({\n            clientCode: CLIENT_CODE\n        }, {\n            $set: {\n                ...tokens,\n                lastLogin: new Date(),\n                isActive: true,\n                isMock: false\n            }\n        }, {\n            upsert: true\n        });\n        console.log(\"\\uD83D\\uDD11 Authentication successful!\");\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"Authentication successful\",\n            expiresAt: tokens.expiresAt\n        });\n    } catch (error) {\n        console.error(\"❌ Authentication failed:\", error);\n        if (error.response) {\n            console.error(\"\\uD83D\\uDCE1 Response status:\", error.response.status);\n            console.error(\"\\uD83D\\uDCE1 Response data:\", error.response.data);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: `Angel Broking API error: ${error.response.status} - ${error.response.data?.message || error.response.statusText}`,\n                details: error.response.data\n            }, {\n                status: 500\n            });\n        } else {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Network or request error: \" + error.message\n            }, {\n                status: 500\n            });\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2F1dGgvbG9naW4vcm91dGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTBDO0FBQ2pCO0FBQ2E7QUFDcUI7QUFFM0Qsd0RBQXdEO0FBQ3hELE1BQU1JLGNBQWMsQ0FBQ0M7SUFDbkIsT0FBT0EsSUFBSUMsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0JBQXNCRixJQUFJQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxnQkFBZ0I7QUFDL0U7QUFFTyxlQUFlQyxLQUFLSCxHQUFHO0lBQzVCLElBQUk7UUFDRkksUUFBUUMsR0FBRyxDQUFDO1FBRVosTUFBTSxFQUFFQyxFQUFFLEVBQUUsR0FBRyxNQUFNUiwrREFBaUJBO1FBQ3RDTSxRQUFRQyxHQUFHLENBQUM7UUFFWixNQUFNRSxVQUFVQyxVQUF3QjtRQUN4QyxNQUFNRyxjQUFjSCxXQUF1QjtRQUMzQyxNQUFNSSxPQUFPSixNQUFnQixDQUFDLCtCQUErQjs7UUFDN0QsTUFBTUssY0FBY0wsNEJBQXVCO1FBRTNDLHlEQUF5RDtRQUN6RCxNQUFNTSxnQkFBZ0JOLFFBQVFDLEdBQUcsQ0FBQ0ssYUFBYSxLQUFLO1FBRXBELElBQUlBLGVBQWU7WUFDakJWLFFBQVFDLEdBQUcsQ0FBQztZQUVaLHFCQUFxQjtZQUNyQixNQUFNVSxhQUFhO2dCQUNqQkMsVUFBVSxvQkFBb0JDLEtBQUtDLEdBQUc7Z0JBQ3RDQyxjQUFjLHdCQUF3QkYsS0FBS0MsR0FBRztnQkFDOUNFLFdBQVcscUJBQXFCSCxLQUFLQyxHQUFHO2dCQUN4Q0csV0FBVyxJQUFJSixLQUFLQSxLQUFLQyxHQUFHLEtBQUssS0FBSyxLQUFLLEtBQUs7WUFDbEQ7WUFFQSwrQkFBK0I7WUFDL0IsTUFBTVosR0FBR2dCLFVBQVUsQ0FBQyxRQUFRQyxnQkFBZ0IsQ0FDMUM7Z0JBQUVDLFlBQVliO1lBQVksR0FDMUI7Z0JBQ0VjLE1BQU07b0JBQ0osR0FBR1YsVUFBVTtvQkFDYlcsV0FBVyxJQUFJVDtvQkFDZlUsVUFBVTtvQkFDVkMsUUFBUTtnQkFDVjtZQUNGLEdBQ0E7Z0JBQUVDLFFBQVE7WUFBSztZQUdqQnpCLFFBQVFDLEdBQUcsQ0FBQztZQUVaLE9BQU9WLHFEQUFZQSxDQUFDbUMsSUFBSSxDQUFDO2dCQUN2QkMsU0FBUztnQkFDVEMsU0FBUztnQkFDVFgsV0FBV04sV0FBV00sU0FBUztnQkFDL0JPLFFBQVE7WUFDVjtRQUNGO1FBRUEseUNBQXlDO1FBQ3pDLElBQUksQ0FBQ3JCLFdBQVcsQ0FBQ0ksZUFBZSxDQUFDQyxRQUFRLENBQUNDLGFBQWE7WUFDckQsT0FBT2xCLHFEQUFZQSxDQUFDbUMsSUFBSSxDQUN0QjtnQkFDRUMsU0FBUztnQkFDVEUsT0FBTztZQUNULEdBQ0E7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBOUIsUUFBUUMsR0FBRyxDQUFDO1FBQ1pELFFBQVFDLEdBQUcsQ0FBQyw2QkFBbUJNLFlBQVl3QixTQUFTLENBQUMsR0FBRyxLQUFLO1FBQzdEL0IsUUFBUUMsR0FBRyxDQUFDLHlCQUFlRSxRQUFRNEIsU0FBUyxDQUFDLEdBQUcsS0FBSztRQUVyRCxnQkFBZ0I7UUFDaEIsTUFBTUMsT0FBT3ZDLGlEQUFhQSxDQUFDd0MsUUFBUSxDQUFDeEI7UUFDcENULFFBQVFDLEdBQUcsQ0FBQyw2Q0FBbUMrQjtRQUUvQyxnQkFBZ0I7UUFDaEIsTUFBTUUsV0FBV3ZDLFlBQVlDO1FBQzdCLE1BQU11QyxXQUFXdkMsSUFBSUMsT0FBTyxDQUFDQyxHQUFHLENBQUMsZ0JBQWdCb0M7UUFDakRsQyxRQUFRQyxHQUFHLENBQUMsMkJBQWlCaUMsVUFBVSxjQUFjQztRQUVyRCxNQUFNQyxZQUFZO1lBQ2hCQyxZQUFZOUI7WUFDWitCLFVBQVU5QjtZQUNWK0IsTUFBTVA7UUFDUjtRQUVBLE1BQU1RLGNBQWM7WUFDbEJDLFFBQVE7WUFDUkMsS0FBSztZQUNMN0MsU0FBUztnQkFDUCxnQkFBZ0I7Z0JBQ2hCOEMsUUFBUTtnQkFDUixjQUFjO2dCQUNkLGNBQWM7Z0JBQ2QsbUJBQW1CVDtnQkFDbkIsb0JBQW9CQztnQkFDcEIsZ0JBQWdCO2dCQUNoQixnQkFBZ0JoQztZQUNsQjtZQUNBeUMsTUFBTVI7WUFDTlMsU0FBUztRQUNYO1FBRUE3QyxRQUFRQyxHQUFHLENBQUM7UUFDWkQsUUFBUUMsR0FBRyxDQUFDLHFCQUFXdUMsWUFBWUUsR0FBRztRQUN0QzFDLFFBQVFDLEdBQUcsQ0FBQyx5QkFBZTtZQUFFLEdBQUd1QyxZQUFZM0MsT0FBTztZQUFFLGdCQUFnQjtRQUFNO1FBQzNFRyxRQUFRQyxHQUFHLENBQUMsc0JBQVk7WUFBRSxHQUFHbUMsU0FBUztZQUFFRSxVQUFVO1lBQU9DLE1BQU07UUFBTTtRQUVyRSxNQUFNTyxnQkFBZ0IsTUFBTXRELGlEQUFLQSxDQUFDZ0Q7UUFDbEN4QyxRQUFRQyxHQUFHLENBQUMsOEJBQThCNkMsY0FBY2hCLE1BQU07UUFDOUQ5QixRQUFRQyxHQUFHLENBQUMsK0JBQXFCNkMsY0FBY0YsSUFBSTtRQUVuRCxJQUFJLENBQUNFLGNBQWNGLElBQUksSUFBSUUsY0FBY0YsSUFBSSxDQUFDZCxNQUFNLEtBQUssT0FBTztZQUM5RDlCLFFBQVE2QixLQUFLLENBQUMsOEJBQThCaUIsY0FBY0YsSUFBSTtZQUM5RCxPQUFPckQscURBQVlBLENBQUNtQyxJQUFJLENBQ3RCO2dCQUNFQyxTQUFTO2dCQUNURSxPQUFPLENBQUMscUJBQXFCLEVBQUVpQixjQUFjRixJQUFJLEVBQUVoQixXQUFXLGdCQUFnQixDQUFDO2dCQUMvRW1CLFdBQVdELGNBQWNGLElBQUksRUFBRUk7WUFDakMsR0FDQTtnQkFBRWxCLFFBQVE7WUFBSTtRQUVsQjtRQUVBLElBQUksQ0FBQ2dCLGNBQWNGLElBQUksQ0FBQ0EsSUFBSSxFQUFFO1lBQzVCNUMsUUFBUTZCLEtBQUssQ0FBQyxpQ0FBaUNpQixjQUFjRixJQUFJO1lBQ2pFLE9BQU9yRCxxREFBWUEsQ0FBQ21DLElBQUksQ0FDdEI7Z0JBQ0VDLFNBQVM7Z0JBQ1RFLE9BQU87WUFDVCxHQUNBO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxNQUFNbUIsZUFBZUgsY0FBY0YsSUFBSSxDQUFDQSxJQUFJO1FBQzVDNUMsUUFBUUMsR0FBRyxDQUFDLG9DQUEwQmlELE9BQU9DLElBQUksQ0FBQ0Y7UUFFbEQsTUFBTUcsU0FBUztZQUNieEMsVUFBVXFDLGFBQWFyQyxRQUFRO1lBQy9CRyxjQUFja0MsYUFBYWxDLFlBQVk7WUFDdkNDLFdBQVdpQyxhQUFhakMsU0FBUztZQUNqQ0MsV0FBVyxJQUFJSixLQUFLQSxLQUFLQyxHQUFHLEtBQUssS0FBSyxLQUFLLEtBQUs7UUFDbEQ7UUFFQSxJQUFJLENBQUNzQyxPQUFPeEMsUUFBUSxJQUFJLENBQUN3QyxPQUFPcEMsU0FBUyxFQUFFO1lBQ3pDaEIsUUFBUTZCLEtBQUssQ0FBQztZQUNkLE9BQU90QyxxREFBWUEsQ0FBQ21DLElBQUksQ0FDdEI7Z0JBQ0VDLFNBQVM7Z0JBQ1RFLE9BQU87WUFDVCxHQUNBO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQTlCLFFBQVFDLEdBQUcsQ0FBQztRQUVaLE1BQU1DLEdBQUdnQixVQUFVLENBQUMsUUFBUUMsZ0JBQWdCLENBQzFDO1lBQUVDLFlBQVliO1FBQVksR0FDMUI7WUFDRWMsTUFBTTtnQkFDSixHQUFHK0IsTUFBTTtnQkFDVDlCLFdBQVcsSUFBSVQ7Z0JBQ2ZVLFVBQVU7Z0JBQ1ZDLFFBQVE7WUFDVjtRQUNGLEdBQ0E7WUFBRUMsUUFBUTtRQUFLO1FBR2pCekIsUUFBUUMsR0FBRyxDQUFDO1FBRVosT0FBT1YscURBQVlBLENBQUNtQyxJQUFJLENBQUM7WUFDdkJDLFNBQVM7WUFDVEMsU0FBUztZQUNUWCxXQUFXbUMsT0FBT25DLFNBQVM7UUFDN0I7SUFDRixFQUFFLE9BQU9ZLE9BQU87UUFDZDdCLFFBQVE2QixLQUFLLENBQUMsNEJBQTRCQTtRQUUxQyxJQUFJQSxNQUFNd0IsUUFBUSxFQUFFO1lBQ2xCckQsUUFBUTZCLEtBQUssQ0FBQyxpQ0FBdUJBLE1BQU13QixRQUFRLENBQUN2QixNQUFNO1lBQzFEOUIsUUFBUTZCLEtBQUssQ0FBQywrQkFBcUJBLE1BQU13QixRQUFRLENBQUNULElBQUk7WUFFdEQsT0FBT3JELHFEQUFZQSxDQUFDbUMsSUFBSSxDQUN0QjtnQkFDRUMsU0FBUztnQkFDVEUsT0FBTyxDQUFDLHlCQUF5QixFQUFFQSxNQUFNd0IsUUFBUSxDQUFDdkIsTUFBTSxDQUFDLEdBQUcsRUFBRUQsTUFBTXdCLFFBQVEsQ0FBQ1QsSUFBSSxFQUFFaEIsV0FBV0MsTUFBTXdCLFFBQVEsQ0FBQ0MsVUFBVSxDQUFDLENBQUM7Z0JBQ3pIQyxTQUFTMUIsTUFBTXdCLFFBQVEsQ0FBQ1QsSUFBSTtZQUM5QixHQUNBO2dCQUFFZCxRQUFRO1lBQUk7UUFFbEIsT0FBTztZQUNMLE9BQU92QyxxREFBWUEsQ0FBQ21DLElBQUksQ0FDdEI7Z0JBQ0VDLFNBQVM7Z0JBQ1RFLE9BQU8sK0JBQStCQSxNQUFNRCxPQUFPO1lBQ3JELEdBQ0E7Z0JBQUVFLFFBQVE7WUFBSTtRQUVsQjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbmdlbGJyb2tpbmctbGl2ZS1kYXRhLXZlcmNlbC8uL2FwcC9hcGkvYXV0aC9sb2dpbi9yb3V0ZS5qcz84ZjBkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiXG5pbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCJcbmltcG9ydCB7IGF1dGhlbnRpY2F0b3IgfSBmcm9tIFwib3RwbGliXCJcbmltcG9ydCB7IGNvbm5lY3RUb0RhdGFiYXNlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2xpYi9tb25nb2RiXCJcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdldCBJUCAoc2ltcGxpZmllZCBmb3Igc2VydmVybGVzcylcbmNvbnN0IGdldENsaWVudElQID0gKHJlcSkgPT4ge1xuICByZXR1cm4gcmVxLmhlYWRlcnMuZ2V0KFwieC1mb3J3YXJkZWQtZm9yXCIpIHx8IHJlcS5oZWFkZXJzLmdldChcIngtcmVhbC1pcFwiKSB8fCBcIjEyNy4wLjAuMVwiXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcSkge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKFwi8J+UkCBTdGFydGluZyBhdXRoZW50aWNhdGlvbiBwcm9jZXNzLi4uXCIpXG5cbiAgICBjb25zdCB7IGRiIH0gPSBhd2FpdCBjb25uZWN0VG9EYXRhYmFzZSgpXG4gICAgY29uc29sZS5sb2coXCLinIUgTW9uZ29EQiBjb25uZWN0ZWRcIilcblxuICAgIGNvbnN0IEFQSV9LRVkgPSBwcm9jZXNzLmVudi5TTUFSVEFQSV9LRVlcbiAgICBjb25zdCBDTElFTlRfQ09ERSA9IHByb2Nlc3MuZW52LkNMSUVOVF9DT0RFXG4gICAgY29uc3QgTVBJTiA9IHByb2Nlc3MuZW52Lk1QSU4gLy8gVXNlIE1QSU4gaW5zdGVhZCBvZiBQQVNTV09SRFxuICAgIGNvbnN0IFRPVFBfU0VDUkVUID0gcHJvY2Vzcy5lbnYuVE9UUF9TRUNSRVRcblxuICAgIC8vIENoZWNrIGlmIHdlIHNob3VsZCB1c2UgbW9jayBhdXRoZW50aWNhdGlvbiBmb3IgdGVzdGluZ1xuICAgIGNvbnN0IFVTRV9NT0NLX0FVVEggPSBwcm9jZXNzLmVudi5VU0VfTU9DS19BVVRIID09PSBcInRydWVcIlxuXG4gICAgaWYgKFVTRV9NT0NLX0FVVEgpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwi8J+OrSBVc2luZyBtb2NrIGF1dGhlbnRpY2F0aW9uIGZvciB0ZXN0aW5nLi4uXCIpXG5cbiAgICAgIC8vIENyZWF0ZSBtb2NrIHRva2Vuc1xuICAgICAgY29uc3QgbW9ja1Rva2VucyA9IHtcbiAgICAgICAgand0VG9rZW46IFwibW9ja19qd3RfdG9rZW5fXCIgKyBEYXRlLm5vdygpLFxuICAgICAgICByZWZyZXNoVG9rZW46IFwibW9ja19yZWZyZXNoX3Rva2VuX1wiICsgRGF0ZS5ub3coKSxcbiAgICAgICAgZmVlZFRva2VuOiBcIm1vY2tfZmVlZF90b2tlbl9cIiArIERhdGUubm93KCksXG4gICAgICAgIGV4cGlyZXNBdDogbmV3IERhdGUoRGF0ZS5ub3coKSArIDI0ICogNjAgKiA2MCAqIDEwMDApLCAvLyAyNCBob3Vyc1xuICAgICAgfVxuXG4gICAgICAvLyBTYXZlIG1vY2sgdG9rZW5zIHRvIGRhdGFiYXNlXG4gICAgICBhd2FpdCBkYi5jb2xsZWN0aW9uKFwiYXV0aFwiKS5maW5kT25lQW5kVXBkYXRlKFxuICAgICAgICB7IGNsaWVudENvZGU6IENMSUVOVF9DT0RFIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAuLi5tb2NrVG9rZW5zLFxuICAgICAgICAgICAgbGFzdExvZ2luOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgaXNBY3RpdmU6IHRydWUsXG4gICAgICAgICAgICBpc01vY2s6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgeyB1cHNlcnQ6IHRydWUgfSxcbiAgICAgIClcblxuICAgICAgY29uc29sZS5sb2coXCLwn46tIE1vY2sgYXV0aGVudGljYXRpb24gc3VjY2Vzc2Z1bCFcIilcblxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogXCJNb2NrIGF1dGhlbnRpY2F0aW9uIHN1Y2Nlc3NmdWxcIixcbiAgICAgICAgZXhwaXJlc0F0OiBtb2NrVG9rZW5zLmV4cGlyZXNBdCxcbiAgICAgICAgaXNNb2NrOiB0cnVlLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBSZWFsIGF1dGhlbnRpY2F0aW9uIHdpdGggQW5nZWwgQnJva2luZ1xuICAgIGlmICghQVBJX0tFWSB8fCAhQ0xJRU5UX0NPREUgfHwgIU1QSU4gfHwgIVRPVFBfU0VDUkVUKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogXCJNaXNzaW5nIHJlcXVpcmVkIGVudmlyb25tZW50IHZhcmlhYmxlc1wiLFxuICAgICAgICB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH0sXG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coXCLinIUgQWxsIGVudmlyb25tZW50IHZhcmlhYmxlcyBhcmUgcHJlc2VudFwiKVxuICAgIGNvbnNvbGUubG9nKFwi8J+TsSBDTElFTlRfQ09ERTpcIiwgQ0xJRU5UX0NPREUuc3Vic3RyaW5nKDAsIDQpICsgXCIqKipcIilcbiAgICBjb25zb2xlLmxvZyhcIvCflJEgQVBJX0tFWTpcIiwgQVBJX0tFWS5zdWJzdHJpbmcoMCwgOCkgKyBcIioqKlwiKVxuXG4gICAgLy8gR2VuZXJhdGUgVE9UUFxuICAgIGNvbnN0IFRPVFAgPSBhdXRoZW50aWNhdG9yLmdlbmVyYXRlKFRPVFBfU0VDUkVUKVxuICAgIGNvbnNvbGUubG9nKFwi8J+TnyBUT1RQIEdlbmVyYXRlZCBzdWNjZXNzZnVsbHk6XCIsIFRPVFApXG5cbiAgICAvLyBHZXQgY2xpZW50IElQXG4gICAgY29uc3QgY2xpZW50SVAgPSBnZXRDbGllbnRJUChyZXEpXG4gICAgY29uc3QgcHVibGljSVAgPSByZXEuaGVhZGVycy5nZXQoXCJ4LXJlYWwtaXBcIikgfHwgY2xpZW50SVBcbiAgICBjb25zb2xlLmxvZyhcIvCfjJAgQ2xpZW50IElQOlwiLCBjbGllbnRJUCwgXCJQdWJsaWMgSVA6XCIsIHB1YmxpY0lQKVxuXG4gICAgY29uc3QgbG9naW5EYXRhID0ge1xuICAgICAgY2xpZW50Y29kZTogQ0xJRU5UX0NPREUsXG4gICAgICBwYXNzd29yZDogTVBJTiwgLy8gVXNlIE1QSU4gYXMgcGFzc3dvcmRcbiAgICAgIHRvdHA6IFRPVFAsXG4gICAgfVxuXG4gICAgY29uc3QgbG9naW5Db25maWcgPSB7XG4gICAgICBtZXRob2Q6IFwicG9zdFwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vYXBpY29ubmVjdC5hbmdlbG9uZS5pbi9yZXN0L2F1dGgvYW5nZWxicm9raW5nL3VzZXIvdjEvbG9naW5CeVBhc3N3b3JkXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBBY2NlcHQ6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBcIlgtVXNlclR5cGVcIjogXCJVU0VSXCIsXG4gICAgICAgIFwiWC1Tb3VyY2VJRFwiOiBcIldFQlwiLFxuICAgICAgICBcIlgtQ2xpZW50TG9jYWxJUFwiOiBjbGllbnRJUCxcbiAgICAgICAgXCJYLUNsaWVudFB1YmxpY0lQXCI6IHB1YmxpY0lQLFxuICAgICAgICBcIlgtTUFDQWRkcmVzc1wiOiBcIjAwOjBhOjk1OjlkOjY4OjE2XCIsXG4gICAgICAgIFwiWC1Qcml2YXRlS2V5XCI6IEFQSV9LRVksXG4gICAgICB9LFxuICAgICAgZGF0YTogbG9naW5EYXRhLFxuICAgICAgdGltZW91dDogMzAwMDAsXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coXCLwn5OhIFNlbmRpbmcgbG9naW4gcmVxdWVzdCB0byBBbmdlbCBCcm9raW5nLi4uXCIpXG4gICAgY29uc29sZS5sb2coXCLwn5SXIFVSTDpcIiwgbG9naW5Db25maWcudXJsKVxuICAgIGNvbnNvbGUubG9nKFwi8J+TiyBIZWFkZXJzOlwiLCB7IC4uLmxvZ2luQ29uZmlnLmhlYWRlcnMsIFwiWC1Qcml2YXRlS2V5XCI6IFwiKioqXCIgfSlcbiAgICBjb25zb2xlLmxvZyhcIvCfk4QgRGF0YTpcIiwgeyAuLi5sb2dpbkRhdGEsIHBhc3N3b3JkOiBcIioqKlwiLCB0b3RwOiBcIioqKlwiIH0pXG5cbiAgICBjb25zdCBsb2dpblJlc3BvbnNlID0gYXdhaXQgYXhpb3MobG9naW5Db25maWcpXG4gICAgY29uc29sZS5sb2coXCLinIUgTG9naW4gcmVzcG9uc2UgcmVjZWl2ZWQ6XCIsIGxvZ2luUmVzcG9uc2Uuc3RhdHVzKVxuICAgIGNvbnNvbGUubG9nKFwi8J+TiiBSZXNwb25zZSBkYXRhOlwiLCBsb2dpblJlc3BvbnNlLmRhdGEpXG5cbiAgICBpZiAoIWxvZ2luUmVzcG9uc2UuZGF0YSB8fCBsb2dpblJlc3BvbnNlLmRhdGEuc3RhdHVzID09PSBmYWxzZSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBBbmdlbCBCcm9raW5nIEFQSSBlcnJvcjpcIiwgbG9naW5SZXNwb25zZS5kYXRhKVxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IGBBbmdlbCBCcm9raW5nIGVycm9yOiAke2xvZ2luUmVzcG9uc2UuZGF0YT8ubWVzc2FnZSB8fCBcIlVua25vd24gZXJyb3JcIn1gLFxuICAgICAgICAgIGVycm9yQ29kZTogbG9naW5SZXNwb25zZS5kYXRhPy5lcnJvcmNvZGUsXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfSxcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAoIWxvZ2luUmVzcG9uc2UuZGF0YS5kYXRhKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEludmFsaWQgcmVzcG9uc2Ugc3RydWN0dXJlOlwiLCBsb2dpblJlc3BvbnNlLmRhdGEpXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogXCJJbnZhbGlkIHJlc3BvbnNlIGZyb20gQW5nZWwgQnJva2luZyBBUElcIixcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9LFxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGxvZ2luUmVzcG9uc2UuZGF0YS5kYXRhXG4gICAgY29uc29sZS5sb2coXCLwn5OKIFJlc3BvbnNlIGRhdGEga2V5czpcIiwgT2JqZWN0LmtleXMocmVzcG9uc2VEYXRhKSlcblxuICAgIGNvbnN0IHRva2VucyA9IHtcbiAgICAgIGp3dFRva2VuOiByZXNwb25zZURhdGEuand0VG9rZW4sXG4gICAgICByZWZyZXNoVG9rZW46IHJlc3BvbnNlRGF0YS5yZWZyZXNoVG9rZW4sXG4gICAgICBmZWVkVG9rZW46IHJlc3BvbnNlRGF0YS5mZWVkVG9rZW4sXG4gICAgICBleHBpcmVzQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgKyAyNCAqIDYwICogNjAgKiAxMDAwKSxcbiAgICB9XG5cbiAgICBpZiAoIXRva2Vucy5qd3RUb2tlbiB8fCAhdG9rZW5zLmZlZWRUb2tlbikge1xuICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBNaXNzaW5nIHRva2VucyBpbiByZXNwb25zZVwiKVxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IFwiUmVxdWlyZWQgdG9rZW5zIG5vdCByZWNlaXZlZCBmcm9tIEFuZ2VsIEJyb2tpbmdcIixcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9LFxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKFwi8J+SviBTYXZpbmcgdG9rZW5zIHRvIGRhdGFiYXNlLi4uXCIpXG5cbiAgICBhd2FpdCBkYi5jb2xsZWN0aW9uKFwiYXV0aFwiKS5maW5kT25lQW5kVXBkYXRlKFxuICAgICAgeyBjbGllbnRDb2RlOiBDTElFTlRfQ09ERSB9LFxuICAgICAge1xuICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgLi4udG9rZW5zLFxuICAgICAgICAgIGxhc3RMb2dpbjogbmV3IERhdGUoKSxcbiAgICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICBpc01vY2s6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHsgdXBzZXJ0OiB0cnVlIH0sXG4gICAgKVxuXG4gICAgY29uc29sZS5sb2coXCLwn5SRIEF1dGhlbnRpY2F0aW9uIHN1Y2Nlc3NmdWwhXCIpXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6IFwiQXV0aGVudGljYXRpb24gc3VjY2Vzc2Z1bFwiLFxuICAgICAgZXhwaXJlc0F0OiB0b2tlbnMuZXhwaXJlc0F0LFxuICAgIH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIuKdjCBBdXRoZW50aWNhdGlvbiBmYWlsZWQ6XCIsIGVycm9yKVxuXG4gICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwi8J+ToSBSZXNwb25zZSBzdGF0dXM6XCIsIGVycm9yLnJlc3BvbnNlLnN0YXR1cylcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCLwn5OhIFJlc3BvbnNlIGRhdGE6XCIsIGVycm9yLnJlc3BvbnNlLmRhdGEpXG5cbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBgQW5nZWwgQnJva2luZyBBUEkgZXJyb3I6ICR7ZXJyb3IucmVzcG9uc2Uuc3RhdHVzfSAtICR7ZXJyb3IucmVzcG9uc2UuZGF0YT8ubWVzc2FnZSB8fCBlcnJvci5yZXNwb25zZS5zdGF0dXNUZXh0fWAsXG4gICAgICAgICAgZGV0YWlsczogZXJyb3IucmVzcG9uc2UuZGF0YSxcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9LFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogXCJOZXR3b3JrIG9yIHJlcXVlc3QgZXJyb3I6IFwiICsgZXJyb3IubWVzc2FnZSxcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9LFxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImF4aW9zIiwiYXV0aGVudGljYXRvciIsImNvbm5lY3RUb0RhdGFiYXNlIiwiZ2V0Q2xpZW50SVAiLCJyZXEiLCJoZWFkZXJzIiwiZ2V0IiwiUE9TVCIsImNvbnNvbGUiLCJsb2ciLCJkYiIsIkFQSV9LRVkiLCJwcm9jZXNzIiwiZW52IiwiU01BUlRBUElfS0VZIiwiQ0xJRU5UX0NPREUiLCJNUElOIiwiVE9UUF9TRUNSRVQiLCJVU0VfTU9DS19BVVRIIiwibW9ja1Rva2VucyIsImp3dFRva2VuIiwiRGF0ZSIsIm5vdyIsInJlZnJlc2hUb2tlbiIsImZlZWRUb2tlbiIsImV4cGlyZXNBdCIsImNvbGxlY3Rpb24iLCJmaW5kT25lQW5kVXBkYXRlIiwiY2xpZW50Q29kZSIsIiRzZXQiLCJsYXN0TG9naW4iLCJpc0FjdGl2ZSIsImlzTW9jayIsInVwc2VydCIsImpzb24iLCJzdWNjZXNzIiwibWVzc2FnZSIsImVycm9yIiwic3RhdHVzIiwic3Vic3RyaW5nIiwiVE9UUCIsImdlbmVyYXRlIiwiY2xpZW50SVAiLCJwdWJsaWNJUCIsImxvZ2luRGF0YSIsImNsaWVudGNvZGUiLCJwYXNzd29yZCIsInRvdHAiLCJsb2dpbkNvbmZpZyIsIm1ldGhvZCIsInVybCIsIkFjY2VwdCIsImRhdGEiLCJ0aW1lb3V0IiwibG9naW5SZXNwb25zZSIsImVycm9yQ29kZSIsImVycm9yY29kZSIsInJlc3BvbnNlRGF0YSIsIk9iamVjdCIsImtleXMiLCJ0b2tlbnMiLCJyZXNwb25zZSIsInN0YXR1c1RleHQiLCJkZXRhaWxzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth/login/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/mongodb.js":
/*!************************!*\
  !*** ./lib/mongodb.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectToDatabase: () => (/* binding */ connectToDatabase),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\nconst uri = \"mongodb+srv://ankitchouhan7987:Y4blB8pgLqk5Qhlh@cluster0.4xqqdan.mongodb.net/authApi\";\nconst options = {\n    useUnifiedTopology: true,\n    useNewUrlParser: true\n};\nlet client;\nlet clientPromise;\nif (false) {}\nif (true) {\n    // In development mode, use a global variable so that the value\n    // is preserved across module reloads caused by HMR (Hot Module Replacement).\n    if (!global._mongoClientPromise) {\n        client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(uri, options);\n        global._mongoClientPromise = client.connect();\n    }\n    clientPromise = global._mongoClientPromise;\n} else {}\nasync function connectToDatabase() {\n    const client = await clientPromise;\n    const db = client.db(\"angelbroking\");\n    return {\n        client,\n        db\n    };\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (clientPromise);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbW9uZ29kYi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXFDO0FBRXJDLE1BQU1DLE1BQU1DLHNGQUF1QjtBQUNuQyxNQUFNRyxVQUFVO0lBQ2RDLG9CQUFvQjtJQUNwQkMsaUJBQWlCO0FBQ25CO0FBRUEsSUFBSUM7QUFDSixJQUFJQztBQUVKLElBQUksS0FBd0IsRUFBRSxFQUU3QjtBQUVELElBQUlQLElBQXNDLEVBQUU7SUFDMUMsK0RBQStEO0lBQy9ELDZFQUE2RTtJQUM3RSxJQUFJLENBQUNTLE9BQU9DLG1CQUFtQixFQUFFO1FBQy9CSixTQUFTLElBQUlSLGdEQUFXQSxDQUFDQyxLQUFLSTtRQUM5Qk0sT0FBT0MsbUJBQW1CLEdBQUdKLE9BQU9LLE9BQU87SUFDN0M7SUFDQUosZ0JBQWdCRSxPQUFPQyxtQkFBbUI7QUFDNUMsT0FBTyxFQUlOO0FBRU0sZUFBZUU7SUFDcEIsTUFBTU4sU0FBUyxNQUFNQztJQUNyQixNQUFNTSxLQUFLUCxPQUFPTyxFQUFFLENBQUM7SUFDckIsT0FBTztRQUFFUDtRQUFRTztJQUFHO0FBQ3RCO0FBRUEsaUVBQWVOLGFBQWFBLEVBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbmdlbGJyb2tpbmctbGl2ZS1kYXRhLXZlcmNlbC8uL2xpYi9tb25nb2RiLmpzP2Q5MjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTW9uZ29DbGllbnQgfSBmcm9tIFwibW9uZ29kYlwiXG5cbmNvbnN0IHVyaSA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJXG5jb25zdCBvcHRpb25zID0ge1xuICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXG4gIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcbn1cblxubGV0IGNsaWVudFxubGV0IGNsaWVudFByb21pc2VcblxuaWYgKCFwcm9jZXNzLmVudi5NT05HT0RCX1VSSSkge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJQbGVhc2UgYWRkIHlvdXIgTW9uZ28gVVJJIHRvIC5lbnYubG9jYWxcIilcbn1cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIpIHtcbiAgLy8gSW4gZGV2ZWxvcG1lbnQgbW9kZSwgdXNlIGEgZ2xvYmFsIHZhcmlhYmxlIHNvIHRoYXQgdGhlIHZhbHVlXG4gIC8vIGlzIHByZXNlcnZlZCBhY3Jvc3MgbW9kdWxlIHJlbG9hZHMgY2F1c2VkIGJ5IEhNUiAoSG90IE1vZHVsZSBSZXBsYWNlbWVudCkuXG4gIGlmICghZ2xvYmFsLl9tb25nb0NsaWVudFByb21pc2UpIHtcbiAgICBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQodXJpLCBvcHRpb25zKVxuICAgIGdsb2JhbC5fbW9uZ29DbGllbnRQcm9taXNlID0gY2xpZW50LmNvbm5lY3QoKVxuICB9XG4gIGNsaWVudFByb21pc2UgPSBnbG9iYWwuX21vbmdvQ2xpZW50UHJvbWlzZVxufSBlbHNlIHtcbiAgLy8gSW4gcHJvZHVjdGlvbiBtb2RlLCBpdCdzIGJlc3QgdG8gbm90IHVzZSBhIGdsb2JhbCB2YXJpYWJsZS5cbiAgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVyaSwgb3B0aW9ucylcbiAgY2xpZW50UHJvbWlzZSA9IGNsaWVudC5jb25uZWN0KClcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbm5lY3RUb0RhdGFiYXNlKCkge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjbGllbnRQcm9taXNlXG4gIGNvbnN0IGRiID0gY2xpZW50LmRiKFwiYW5nZWxicm9raW5nXCIpXG4gIHJldHVybiB7IGNsaWVudCwgZGIgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGllbnRQcm9taXNlXG4iXSwibmFtZXMiOlsiTW9uZ29DbGllbnQiLCJ1cmkiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkkiLCJvcHRpb25zIiwidXNlVW5pZmllZFRvcG9sb2d5IiwidXNlTmV3VXJsUGFyc2VyIiwiY2xpZW50IiwiY2xpZW50UHJvbWlzZSIsIkVycm9yIiwiZ2xvYmFsIiwiX21vbmdvQ2xpZW50UHJvbWlzZSIsImNvbm5lY3QiLCJjb25uZWN0VG9EYXRhYmFzZSIsImRiIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/mongodb.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/axios","vendor-chunks/asynckit","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/call-bind-apply-helpers","vendor-chunks/debug","vendor-chunks/@otplib","vendor-chunks/get-proto","vendor-chunks/thirty-two","vendor-chunks/mime-db","vendor-chunks/has-symbols","vendor-chunks/gopd","vendor-chunks/function-bind","vendor-chunks/form-data","vendor-chunks/follow-redirects","vendor-chunks/supports-color","vendor-chunks/proxy-from-env","vendor-chunks/otplib","vendor-chunks/ms","vendor-chunks/mime-types","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/has-flag","vendor-chunks/get-intrinsic","vendor-chunks/es-set-tostringtag","vendor-chunks/es-object-atoms","vendor-chunks/es-define-property","vendor-chunks/dunder-proto","vendor-chunks/delayed-stream","vendor-chunks/combined-stream"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.js&appDir=C%3A%5CUsers%5Canilp%5COneDrive%5CDesktop%5CAnkit%5Cprakash%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Canilp%5COneDrive%5CDesktop%5CAnkit%5Cprakash&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();